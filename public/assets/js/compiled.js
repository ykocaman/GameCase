function send(e){document.getElementById("message").innerHTML="Yükleniyor...",ajax("/send","to="+e+"&gift="+selectedGiftId(),in_request,null)}function claim(e){document.getElementById("message").innerHTML="Yükleniyor...",ajax("/claim","from="+e+"&gift="+selectedGiftId(),in_request,null)}function accept(e){ajax("/accept","gift_claimed="+e,out_request,e)}function reject(e){ajax("/reject","gift_claimed="+e,out_request,e)}function in_request(e,t){var n=new Date;document.getElementById("message").innerHTML=e.result+"<br />"+n.toUTCString()}function out_request(e,t){document.getElementById("accept"+t).innerHTML="",document.getElementById("reject"+t).innerHTML="",document.getElementById("status"+t).innerHTML=e.result}function ajax(e,t,n,a){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var e=JSON.parse(i.responseText);n(e,a)}},i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(t)}function selectedGiftId(){var e=document.getElementsByName("gift")[0];return e.options[e.selectedIndex].value}